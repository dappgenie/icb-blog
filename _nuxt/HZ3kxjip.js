import{B as se,a as re}from"./CG3i8tFa.js";import{y as W,c as o,d as s,g as l,t as b,F as j,z as R,n as ce,A as m,f as P,w as ue,B as ae,C as de,D as S,E as me,G as V,r as z,H as ve,e as h}from"./DbmyUEix.js";import{u as D}from"./DHF0-3FE.js";import{q as N}from"./kpCNXNGn.js";const he={class:"relative rounded-lg overflow-hidden mb-8 h-56"},ge=["src","alt"],pe={class:"absolute inset-0 bg-gradient-to-t from-[#1a1065]/80 to-transparent backdrop-blur-sm bg-opacity-50 flex items-end"},ye={class:"p-4 text-white"},fe={class:"mb-2"},be={class:"bg-blue-500 text-xs font-medium px-2 py-1 rounded"},_e={class:"text-2xl font-bold mb-1"},xe={class:"flex items-center space-x-2"},we={class:"text-sm"},ke=W({__name:"FeaturedBlogPost",props:{post:{type:Object,required:!1,default:()=>({title:"How to get cash back in an effective Way?",image:"/assets/blog-banner.webp",category:"Cashback",date:new Date().toLocaleDateString()})}},setup(c){return(t,i)=>(s(),o("div",he,[l("img",{src:c.post.image||"/assets/blog-banner.webp",alt:c.post.title||"Blog Banner",class:"w-full h-full object-cover"},null,8,ge),l("div",pe,[l("div",ye,[l("div",fe,[l("span",be,b(c.post.category||"Cashback"),1)]),l("h2",_e,b(c.post.title||"How to get cash back in an effective Way?"),1),l("div",xe,[l("span",we,b(c.post.date||new Date().toLocaleDateString()),1)])])])]))}}),Ce=Object.assign(ke,{__name:"BlogFeaturedBlogPost"}),$e={class:"mb-8 bg-white rounded-lg p-4"},Be={class:"flex flex-wrap gap-2"},Le=["onClick"],Se=W({__name:"CategoriesSection",props:{categories:{type:Array,required:!1,default:()=>[]},modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(c,{emit:t}){const i=c,n=t,g=v=>i.modelValue.includes(v),_=v=>{const u=[...i.modelValue],p=u.indexOf(v);p===-1?u.push(v):u.splice(p,1),n("update:modelValue",u)};return(v,u)=>(s(),o("div",$e,[u[0]||(u[0]=l("h3",{class:"text-sm text-primary font-semibold mb-3"}," Categories ",-1)),l("div",Be,[(s(!0),o(j,null,R(c.categories,p=>(s(),o("div",{key:p.id,class:ce(["border rounded-full px-3 py-1 text-xs cursor-pointer transition-colors duration-200",g(p.id)?"bg-primary text-white border-primary":"bg-white border-gray-200 hover:bg-gray-100"]),onClick:H=>_(p.id)},b(p.label),11,Le))),128))])]))}}),Fe=Object.assign(Se,{__name:"BlogCategoriesSection"}),Ae={class:"mb-8 bg-white rounded-lg p-4"},Ve={class:"flex justify-between items-center mb-4"},De={class:"text-sm text-primary font-semibold"},Ne={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},Te=W({__name:"BlogSection",props:{title:{type:String,required:!0},articles:{type:Array,required:!0,default:()=>[]},maxItems:{type:Number,default:5}},setup(c){const t=c,i=m(()=>t.title.toLowerCase().replace(/\s+/g,"-"));return(n,g)=>{const _=de;return s(),o("div",Ae,[l("div",Ve,[l("h3",De,b(c.title),1),P(_,{to:`/${i.value}/articles`,class:"text-xs px-3 py-2 bg-white shadow-md rounded-md font-semibold flex items-center hover:bg-gray-100 cursor-pointer"},{default:ue(()=>g[0]||(g[0]=[ae(" See All "),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("path",{d:"M9 5l7 7-7 7"})],-1)])),_:1,__:[0]},8,["to"])]),l("div",Ne,[(s(!0),o(j,null,R(c.articles.slice(0,c.maxItems),(v,u)=>(s(),S(se,{key:u,article:v},null,8,["article"]))),128))])])}}}),T=Object.assign(Te,{__name:"BlogSection"}),He={class:"light-mode bg-background min-h-screen"},je={class:"container mx-auto bg-[#efefef] shadow-lg"},qe={class:"flex flex-col space-x-6 mb-6"},Ee={key:0,class:"px-4 mt-4 flex flex-wrap items-center gap-2"},Me={key:0,class:"text-sm text-gray-600"},Oe={key:1,class:"flex flex-wrap gap-1 items-center"},Pe={key:0,class:"text-sm text-gray-600"},Re=["onClick"],We={class:"flex-1 px-4 mt-6"},Je={key:0,class:"mb-8 bg-white rounded-lg p-4"},ze={class:"mb-4"},Ge={class:"text-sm text-primary font-semibold"},Ke={key:0,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},Qe={key:1,class:"text-center py-8"},Ue={class:"mb-8 bg-white rounded-lg p-4 shadow-sm"},et=W({__name:"index",async setup(c){let t,i;const{locale:n}=me(),g=e=>e?[...e].sort((a,A)=>{const x=r=>{if(!r.date)return 0;let y=r.date;if(typeof y=="string"&&y.match(/^\d{1,2}\s\w{3}\s\d{4}$/)){const w=y.split(" "),L=w[0],d=w[1],f=w[2],k={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"};L&&d&&f&&k[d]&&(y=`${f}-${k[d]}-${L.padStart(2,"0")}`)}const B=new Date(y);return isNaN(B.getTime())?0:B.getTime()};return x(A)-x(a)}):[],{data:_}=([t,i]=V(async()=>D(`technology-${n.value}`,async()=>{const e=`technology_${n.value}`,a=await N(e).all();return g(a)},{watch:[n]})),t=await t,i(),t),{data:v}=([t,i]=V(async()=>D(`investment-${n.value}`,async()=>{const e=`investment_${n.value}`,a=await N(e).all();return g(a)},{watch:[n]})),t=await t,i(),t),{data:u}=([t,i]=V(async()=>D(`health-${n.value}`,async()=>{const e=`health_${n.value}`,a=await N(e).all();return g(a)},{watch:[n]})),t=await t,i(),t),{data:p}=([t,i]=V(async()=>D(`fashion-${n.value}`,async()=>{const e=`fashion_${n.value}`,a=await N(e).all();return g(a)},{watch:[n]})),t=await t,i(),t),{data:H}=([t,i]=V(async()=>D(`lifestyle-${n.value}`,async()=>{const e=`lifestyle_${n.value}`,a=await N(e).all();return g(a)},{watch:[n]})),t=await t,i(),t),{data:q}=([t,i]=V(async()=>D(`travel-${n.value}`,async()=>{const e=`travel_${n.value}`,a=await N(e).all();return g(a)},{watch:[n]})),t=await t,i(),t),C=z(""),E=m(()=>C.value.trim().length>0),le=e=>{C.value=e},$=z([]),M=m(()=>$.value.length>0),ne=e=>{if(!M.value)return!0;const a=e.tags||[],A=e.keywords||[],x=e.category?e.category.toLowerCase():"";return $.value.some(r=>{var B,w,L,d,f;const y=r.toLowerCase();return a.some(k=>k.toLowerCase().includes(y))||A.some(k=>k.toLowerCase().includes(y))||x.includes(y)||r==="technology"&&((B=e._path)==null?void 0:B.includes("/technology/"))||r==="investment"&&((w=e._path)==null?void 0:w.includes("/investment/"))||r==="health"&&((L=e._path)==null?void 0:L.includes("/health/"))||r==="fashion"&&((d=e._path)==null?void 0:d.includes("/fashion/"))||r==="lifestyle"&&((f=e._path)==null?void 0:f.includes("/lifestyle/"))})},F=e=>e?e.filter(a=>{var r;const A=!C.value.trim()||a.title.toLowerCase().includes(C.value.toLowerCase())||((r=a.description)==null?void 0:r.toLowerCase().includes(C.value.toLowerCase())),x=ne(a);return A&&x}):[],G=m(()=>_.value?F([..._.value]):[]),K=m(()=>v.value?F([...v.value]):[]),Q=m(()=>u.value?F([...u.value]):[]),U=m(()=>p.value?F([...p.value]):[]),X=m(()=>H.value?F([...H.value]):[]),Y=m(()=>q.value?F([...q.value]):[]),Z=m(()=>{const e=[];return _.value&&e.push(..._.value),v.value&&e.push(...v.value),u.value&&e.push(...u.value),p.value&&e.push(...p.value),H.value&&e.push(...H.value),q.value&&e.push(...q.value),g(e)}),oe=m(()=>{const e=Z.value;return e.length>0?e[0]:{}}),J=m(()=>!C.value.trim()&&!M.value?[]:F(Z.value)),I=m(()=>J.value.length),O=m(()=>E.value||M.value),ee=z([{id:"technology",label:"Technology"},{id:"investment",label:"Investment"},{id:"health",label:"Health and Wellness"},{id:"fashion",label:"Fashion"},{id:"lifestyle",label:"Lifestyle"},{id:"electronics",label:"Electronics"},{id:"home_appliances",label:"Home Appliances"},{id:"medicine",label:"Medicine and Fitness"},{id:"books",label:"Books and Learning"},{id:"sports",label:"Sports and Fitness"},{id:"travel",label:"Travel"},{id:"food",label:"Food and Drinks"},{id:"automotive",label:"Automotive"},{id:"beauty",label:"Beauty and Personal Care"},{id:"home_garden",label:"Home and Garden"},{id:"baby",label:"Baby and Kids"},{id:"pets",label:"Pets and Animals"},{id:"finance",label:"Finance and Banking"},{id:"education",label:"Education and Learning"},{id:"entertainment",label:"Entertainment"}]),te=()=>{C.value="",$.value=[]};if(!_.value&&!v.value)throw ve({statusCode:404,statusMessage:"Page not found"});return(e,a)=>{var x,r,y,B,w,L;const A=se;return s(),o("div",He,[l("main",je,[l("div",qe,[P(re,{title:"Blogs",onSearch:le}),O.value?(s(),o("div",Ee,[E.value?(s(),o("div",Me," Found "+b(I.value)+" result"+b(I.value!==1?"s":"")+' for "'+b(C.value)+'" ',1)):h("",!0),M.value?(s(),o("div",Oe,[E.value?h("",!0):(s(),o("span",Pe,"Filtered by:")),(s(!0),o(j,null,R($.value,d=>{var f;return s(),o("div",{key:d,class:"bg-primary text-white text-xs px-2 py-1 rounded-full flex items-center"},[ae(b((f=ee.value.find(k=>k.id===d))==null?void 0:f.label)+" ",1),l("button",{class:"ml-1 text-white hover:text-gray-200",onClick:k=>$.value=$.value.filter(ie=>ie!==d)}," Ã— ",8,Re)])}),128))])):h("",!0),O.value?(s(),o("button",{key:2,class:"text-xs text-gray-500 hover:text-primary ml-auto underline",onClick:te}," Clear all filters ")):h("",!0)])):h("",!0),l("div",We,[P(Fe,{modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=d=>$.value=d),categories:ee.value},null,8,["modelValue","categories"]),O.value?(s(),o("div",Je,[l("div",ze,[l("h3",Ge,b(E.value?"Search Results":"Filtered Results"),1)]),J.value.length?(s(),o("div",Ke,[(s(!0),o(j,null,R(J.value,(d,f)=>(s(),S(A,{key:f,article:d},null,8,["article"]))),128))])):(s(),o("div",Qe,[a[1]||(a[1]=l("p",{class:"text-gray-500"}," No articles found matching your criteria. ",-1)),l("button",{class:"mt-2 text-primary hover:underline",onClick:te}," Clear filters ")]))])):h("",!0),O.value?h("",!0):(s(),o(j,{key:1},[l("div",Ue,[a[2]||(a[2]=l("div",{class:"mb-4"},[l("h3",{class:"text-sm text-primary font-semibold"}," Latest Article ")],-1)),P(Ce,{post:oe.value},null,8,["post"])]),(x=K.value)!=null&&x.length?(s(),S(T,{key:0,title:"Investment",articles:K.value,"max-items":5},null,8,["articles"])):h("",!0),(r=G.value)!=null&&r.length?(s(),S(T,{key:1,title:"Technology",articles:G.value,"max-items":5},null,8,["articles"])):h("",!0),(y=Q.value)!=null&&y.length?(s(),S(T,{key:2,title:"Health and Wellness",articles:Q.value,"max-items":5},null,8,["articles"])):h("",!0),(B=U.value)!=null&&B.length?(s(),S(T,{key:3,title:"Fashion",articles:U.value,"max-items":5},null,8,["articles"])):h("",!0),(w=X.value)!=null&&w.length?(s(),S(T,{key:4,title:"Lifestyle",articles:X.value,"max-items":5},null,8,["articles"])):h("",!0),(L=Y.value)!=null&&L.length?(s(),S(T,{key:5,title:"Travel",articles:Y.value,"max-items":5},null,8,["articles"])):h("",!0)],64))])])])])}}});export{et as default};
